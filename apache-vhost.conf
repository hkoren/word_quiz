# Apache Virtual Host Configuration for Web Spelling Quiz
# Place this in your Apache sites-available directory
# Example: /etc/apache2/sites-available/spelling-quiz.conf

<VirtualHost *:80>
    ServerName spelling-quiz.yourdomain.com
    ServerAlias www.spelling-quiz.yourdomain.com
    
    # Document root (not used for WSGI apps, but required)
    DocumentRoot /var/www/spelling-quiz
    
    # WSGI Configuration
    WSGIDaemonProcess spelling_quiz python-home=/var/www/spelling-quiz/venv python-path=/var/www/spelling-quiz
    WSGIProcessGroup spelling_quiz
    WSGIScriptAlias / /var/www/spelling-quiz/wsgi.py
    
    # Directory permissions for the application
    <Directory /var/www/spelling-quiz>
        WSGIApplicationGroup %{GLOBAL}
        Require all granted
    </Directory>
    
    # Static files (if any)
    Alias /static /var/www/spelling-quiz/static
    <Directory /var/www/spelling-quiz/static>
        Require all granted
    </Directory>
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/spelling-quiz_error.log
    CustomLog ${APACHE_LOG_DIR}/spelling-quiz_access.log combined
    LogLevel info
    
    # Security headers
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    
    # Optional: Redirect HTTP to HTTPS
    # RewriteEngine On
    # RewriteCond %{HTTPS} off
    # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

# Optional: HTTPS Virtual Host
# <VirtualHost *:443>
#     ServerName spelling-quiz.yourdomain.com
#     ServerAlias www.spelling-quiz.yourdomain.com
#     
#     DocumentRoot /var/www/spelling-quiz
#     
#     # SSL Configuration
#     SSLEngine on
#     SSLCertificateFile /path/to/your/certificate.crt
#     SSLCertificateKeyFile /path/to/your/private.key
#     SSLCertificateChainFile /path/to/your/chain.crt
#     
#     # WSGI Configuration
#     WSGIDaemonProcess spelling_quiz_ssl python-home=/var/www/spelling-quiz/venv python-path=/var/www/spelling-quiz
#     WSGIProcessGroup spelling_quiz_ssl
#     WSGIScriptAlias / /var/www/spelling-quiz/wsgi.py
#     
#     <Directory /var/www/spelling-quiz>
#         WSGIApplicationGroup %{GLOBAL}
#         Require all granted
#     </Directory>
#     
#     Alias /static /var/www/spelling-quiz/static
#     <Directory /var/www/spelling-quiz/static>
#         Require all granted
#     </Directory>
#     
#     ErrorLog ${APACHE_LOG_DIR}/spelling-quiz_ssl_error.log
#     CustomLog ${APACHE_LOG_DIR}/spelling-quiz_ssl_access.log combined
#     LogLevel info
#     
#     # Security headers for HTTPS
#     Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
#     Header always set X-Content-Type-Options nosniff
#     Header always set X-Frame-Options DENY
#     Header always set X-XSS-Protection "1; mode=block"
# </VirtualHost>